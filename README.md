### Requirements
- PHP version >= 7.2.5
- composer

### Installation
Step 1: Clone the repo

`git clone git@github.com:kevsnams/mdgroup-test.git`

------------


Step 2: Install dependencies

	`composer install`

**Note**: I already added a key on `.env.example` file so you dont have to execute
`php artisan key:generate`

------------


Step 3: ENV file

Copy + paste `.env.example` and rename it to `.env`

------------

Step 4: Cache table

The cache table will be automatically generated by running this command:
`php artisan migrate`

------------


Step 5:
- (Recommended) You may deploy it via `php -S localhost:3000` on terminal
This is the easiest way to deploy this API server. If other option is selected, please change the `api_url` variable on `phptest.html` file

- (Optional) You can also deploy to your apache server

### Configuration
**Database Settings**

On your `.env` file you can modify the database settings here:
Make sure you have created the database. In this example, `mdgroup` it is looking for `mdgroup` database.

		DB_CONNECTION=mysql
		DB_HOST=127.0.0.1
		DB_PORT=3306
		DB_DATABASE=mdgroup
		DB_USERNAME=root
		DB_PASSWORD=

**Exchange Rate Settings**
- *Auto Clear Cache Settings*.
This is when the cache table will auto clear. The value here should be the same as the values defined here: [DateTime Formats (Relative)](https://www.php.net/manual/en/datetime.formats.relative.php)

	Example:

		EXCHANGE_RATE_CACHE_AUTOCLEAR="tomorrow"

	This will auto clear the cache table on the next day.

------------


- *Cache Expiration* (in seconds)
The lifetime of a single cache item. The value should be in seconds.

		EXCHANGE_RATE_CACHE_EXPIRE=7200

------------

- *API Source*
Incase you want to modify the URL. See: [Exchange Rates API](https://exchangeratesapi.io/)

		EXCHANGE_RATE_API_BASE_URL=https://api.exchangeratesapi.io/latest

**Directories**

For the automatic clearing of cache table, I am storing a `Y-m-d H:i:s` value on `storage` folder. So if you ran into permission errors on that folder. Please refer to [Laravel Directory Permission](https://laravel.com/docs/7.x/installation#configuration)

### Files to lookout for
To make it easy for you to check. Here are the files/directories you should look out for:
- [app/Http/Controllers/api](https://github.com/kevsnams/mdgroup-test/tree/master/app/Http/Controllers/api)

- [app/ExchangeRate](https://github.com/kevsnams/mdgroup-test/tree/master/app/ExchangeRate)

- [config/exchangerate.php](https://github.com/kevsnams/mdgroup-test/blob/master/config/exchangerate.php)

- [routes/web.php](https://github.com/kevsnams/mdgroup-test/blob/master/routes/web.php)
